<!DOCTYPE html>
<html lang="en">
 <head>
  <title>
   <%- title %>
  </title>
  <link rel="stylesheet" href="/stylesheets/style.css" />
 </head>
 <body>
  <div class="col-sm-10">
   <%- include('./layout.ejs') %>
    <h1>
     <%- title %>
    </h1>

    <form method="POST" action="">
     <div class="form-group">
      <label for="name">Name: </label>
      <input id="name" class="form-control" type="text" placeholder="Name" name="name" required="true" value=<%-
       item === undefined ? "" : item.name %> >
     </div>
     <div class="form-group">
      <label for="description">Description:</label>
      <input name="description" id="description" type="text" placeholder="Description" required="true" class="form-control" value=<%- item === undefined ? "" : item.description %> >
     </div>
     <div class="form-group">
      <label for="category">Category:</label>
      <div>
       <% categories.forEach(category => { %>
        <div>
         <input type="checkbox" class="checkbox-input" name="category" id=<%- category._id %>
         value=<%- category._id %>
          <%- category.checked ? "checked" : "" %>
           />

           <label for=<%- category._id %> > <%- category.name %> </label>
        </div>
       <% }) %>
      </div>
     </div>
     <div class="form-group">
      <label for="price">Price:</label>
      <input name="price" id="price" type="text" placeholder="0.00" required="true" class="form-control"
       value=<%- item === undefined ? "" : item.price %> >
     </div>
     <div class="form-group">
      <label for="number_in_stock">Number In Stock:</label>
      <input name="number_in_stock" id="number_in_stock" type="number" placeholder="0" required="true" class="form-control" value=<%-
       item === undefined ? "" : item.number_in_stock %> >
     </div>

     <button class="btn btn-primary" type="submit">Submit</button>
    </form>
    <% if (errors) { %>
     <ul>
      <% errors.forEach(error=> { %>
       <li>
        <%- error.msg %>
       </li>
      <% }) %>
     </ul>
    <% } %>
  </div>
  </div>
  </div>
 </body>
</html>